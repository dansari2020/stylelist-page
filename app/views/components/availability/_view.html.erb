<%= turbo_frame_tag "availability" do %>
  <div class="flex justify-center w-full">
    <div id="view_availability" class="w-full">
      <%  has_availabilities = user.has_availabilities?  %>
      <div class="flex justify-between w-full">
        <div class="flex-1">
          <h2 class="pb-4 leading-3 text-normal">Availability</h2>
          <% unless has_availabilities %>
            <p class="text-sm font-medium text-gray-500 leading-2" >When are you available to clients?</p>
          <% end %>
        </div>
        <div class="flex items-center md:items-start">
          <%= link_to "Edit", profile_edit_path("availability"), class: "text-blue-500 text-sm" %>
        </div>
      </div>
      <% if has_availabilities %>
        <ul class="w-full">
          <% user.availabilities.each do |availability| %>
            <li class="flex justify-between w-full py-4 border-t">
              <span class="text-gray-500">
                <%= Date::DAYNAMES[availability.day].capitalize %>
              </span>
              <span class="text-right text-gray-500">
                <% if availability.opened? %>
                  <%= "#{availability.open_at.strftime("%I:%M %p")} - #{availability.close_at.strftime("%I:%M %p")}" %>
                <% else %>
                  Not Available
                <% end %>
              </span>
            </li>
          <% end %>
        </ul>
      <% end %>
    </div>
  </div>
<% end %>
