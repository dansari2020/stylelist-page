<%= turbo_stream_from "background" %>
<%= render partial: "components/background/view", locals: {user: user} %>
<div class="pt-4">
  <div class="relative flex w-full md:flex-row md:-mt-0 md:border-none" :class="{'flex-col -mt-20 bg-white border mb-2': tab == 'profile' || tab == 'contact'}">
    <!-- Avatar -->
    <div class="md:w-1/3" :class="{'w-full': tab == 'profile' || tab == 'contact', 'w-1/3': tab == 'portfolio'}">
      <%= turbo_stream_from "avatar" %>
      <%= render partial: "components/avatar/view", locals: {user: user} %>
      <div class="justify-center py-2 mx-auto mb-4 w-28 md:mb-12">
        <h2 class="leading-6 text-center md:text-xl md:text-left">
          <%= user.full_name %><span class="pl-2 text-gray-500"><%= "(#{user.pronoun})" if user.pronoun.present? %></h2>
        </h2>
        <p class="text-sm font-medium leading-5 text-center text-gray-500 md:text-left"><%= user.job %></p>
        <p class="text-sm font-medium leading-5 text-center text-gray-500 md:text-left"><%= user.short_address %></p>
      </div>
    </div>
    <!-- Follow Button -->
    <div class="flex flex-col w-2/3 -mt-8 text-right md:-mt-0" :class="{'hidden md:flex': tab == 'profile' || tab == 'contact'}">
      <button class="flex items-center justify-center px-2 py-2 ml-auto text-sm text-right text-black bg-transparent rounded-md md:px-4 md:font-bold md:text-md max-w-max whitespace-nowrap hover:bg-yellow-500 hover:shadow-lg bg-yellow-light max-h-max" x-show="tab !== 'contact'">
        <%= image_tag "icons/share.svg", class: "w-4 mr-2" %>
        Share
      </button>
      <div class="hidden md:block">
        <%= render partial: "shared/promo_section", locals: {user: user} %>
      </div>
    </div>
    <div class="mb-4 text-center md:hidden">
      <%= render partial: "shared/promo_section", locals: {user: user} %>
    </div>
  </div>
  <%= render partial: "shared/profile_section", locals: {user: user} %>
  <%= render partial: "shared/contact_section", locals: {user: user} %>
</div>
