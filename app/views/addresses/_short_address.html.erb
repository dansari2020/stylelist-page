<% address ||= Address.new %>
<% model = address.new_record? ? [local_assigns[:user], :short_address].compact : [address, :short_address] %>
<% user = local_assigns[:user].present? ? dom_id(local_assigns[:user]) : "user" %>
<% frame = address.new_record? ? "#{user}_short_address" : "#{dom_id(address)}_short_address" %>

<%= turbo_stream_from model %>
<%= turbo_frame_tag frame do %>
    <%= address.short_address %>
<% end %>